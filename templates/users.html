{% extends "base.html" %}

{% block content %}
<div class="container">
    <h2>Управление пользователями</h2>
    <div class="mb-3">
        <button class="btn btn-success" onclick="showAddUserForm()">Добавить пользователя</button>
    </div>
    
    <div id="addUserForm" style="display: none;" class="mb-4">
        <h4>Добавить нового пользователя</h4>
        <form id="createUserForm">
            <div class="form-group">
                <label for="newUsername">Имя пользователя:</label>
                <input type="text" class="form-control" id="newUsername" required>
            </div>
            <div class="form-group">
                <label for="newPassword">Пароль:</label>
                <input type="password" class="form-control" id="newPassword" required>
            </div>
            <div class="form-check mb-3">
                <input type="checkbox" class="form-check-input" id="isAdmin">
                <label class="form-check-label" for="isAdmin">Администратор</label>
            </div>
            <button type="submit" class="btn btn-primary">Создать</button>
        </form>
        <div id="createUserMessage" class="mt-3"></div>
    </div>

    <h4>Список пользователей</h4>
    <table class="table">
        <thead>
            <tr>
                <th>Имя пользователя</th>
                <th>Роль</th>
                <th>Действия</th>
            </tr>
        </thead>
        <tbody id="usersList">
            <!-- Users will be populated here by JavaScript -->
        </tbody>
    </table>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='users.js') }}"></script>
{% endblock %}
